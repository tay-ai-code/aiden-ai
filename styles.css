:root{
  --neon: #61f7ff;
  --neon2:#b96bff;
  --accent:#21ffa2;
  --danger:#ff5a7a;
  --bg:#0a0f1e;
  --grid:#123;
  --card:#111831;
  --text:#e8f1ff;
  --muted:#9bb0d0;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);}

#game{
  position:relative;
  width:100%;
  height:70vh;
  min-height:520px;
  overflow:hidden;
  border-top:1px solid #1e2746;
  border-bottom:1px solid #1e2746;
}

.hud{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:10px 14px;
}
.hud .stat{margin-left:16px; display:inline-block;}
.hud-right{font-weight:600}

.btn{
  background:linear-gradient(135deg,#1b2546 0%,#1a2d60 100%);
  color:#d9ecff;
  border:1px solid #2e3a70;
  padding:10px 14px;
  border-radius:14px;
  cursor:pointer;
  box-shadow:0 2px 10px rgba(0,0,0,.3), inset 0 0 10px rgba(97,247,255,.15);
  transition:transform .05s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:hover{filter:brightness(1.1)}
.btn:active{transform:translateY(1px)}
.btn-secondary{background:#1a1f33;border-color:#2a2f52}
.btn-shop{background:linear-gradient(135deg,#2a1b46,#5e1a90); border-color:#5e1a90}
.btn-primary{background:linear-gradient(135deg,#163b2e,#1a6f57); border-color:#159e75}

.hud-left{display:flex; gap:8px; flex-wrap:wrap}

.bg.layer{position:absolute; inset:0; pointer-events:none}
.bg.stars{
  background:
    radial-gradient(2px 2px at 10% 20%, #fff 40%, transparent 42%) repeat,
    radial-gradient(1px 1px at 70% 80%, #fff 40%, transparent 42%) repeat;
  background-size:200px 200px, 260px 260px;
  animation: drift 80s linear infinite;
  opacity:.6;
}
.bg.grid{
  background: linear-gradient(transparent 70%, rgba(33,255,162,.15) 70%),
              linear-gradient(90deg, rgba(33,255,162,.15) 70%, transparent 70%);
  background-size: 100% 40px, 40px 100%;
  transform: perspective(500px) rotateX(65deg) translateY(40%);
  transform-origin: top center;
  animation: gridScroll 3s linear infinite;
  opacity:.3;
}
.bg.skyline{
  background: radial-gradient(1200px 200px at 50% 100%, rgba(97,247,255,.15), transparent 60%),
              linear-gradient(180deg, rgba(97,247,255,.1), transparent 40%);
  mix-blend-mode: screen;
  opacity:.8;
}
@keyframes gridScroll {
  from { background-position-y: 0, 0; }
  to   { background-position-y: 40px, 0; }
}
@keyframes drift { from{background-position:0 0, 0 0} to{background-position:1000px 0, 0 800px} }

#ground{
  position:absolute; left:0; right:0; bottom:0; height:90px;
  background:
    repeating-linear-gradient(90deg, #0ff3 0 8px, transparent 8px 16px),
    linear-gradient(180deg, #0a1430, #070b18);
  border-top:1px solid #2b3560;
  box-shadow: inset 0 10px 30px rgba(0,0,0,.6);
}

.actor{position:absolute; bottom:90px; display:flex; flex-direction:column; align-items:center}
#yeho{left:6%;}
#dino{left:18%;}

.nameplate{
  position:absolute; top:-22px; padding:2px 6px; font-size:12px;
  background:rgba(0,0,0,.35); border:1px solid #2a2f52; border-radius:8px; color:#d9ecff
}
.human{font-size:36px; filter: drop-shadow(0 0 6px rgba(185,107,255,.7));}

#dino-emoji{
  font-size:46px; line-height:1; user-select:none;
  filter: drop-shadow(0 0 10px rgba(33,255,162,.75));
  transition: transform .08s ease;
}
#dino[data-state="duck"] #dino-emoji{ transform: translateY(10px) scale(.9); }

.trail{
  width:50px; height:10px; margin-top:4px; border-radius:999px;
  background: radial-gradient(25px 8px at 50% 50%, rgba(33,255,162,.5), transparent 70%);
  filter: blur(2px);
  opacity:.6;
}

.obstacle{
  position:absolute; bottom:90px; right:-80px; width:50px; height:40px;
  border-radius:10px; border:1px solid #31407a;
  background:#1a2246; box-shadow: inset 0 0 12px rgba(97,247,255,.25), 0 0 12px rgba(97,247,255,.05);
}
.obstacle.rock{
  width:38px; height:30px; bottom:90px;
  background: linear-gradient(135deg,#2a335f,#151c3a);
}
.obstacle.boulder{
  width:58px; height:44px; bottom:90px;
  background: linear-gradient(135deg,#362a5f,#1e163f);
}
.obstacle.carpet{
  width:70px; height:10px; bottom:90px;
  background: repeating-linear-gradient(90deg, #ff5a7a 0 6px, #61f7ff 6px 12px, #b96bff 12px 18px);
  border-radius:6px;
  border-color:#6f2b7a;
}

.float-coin{
  position:absolute; width:16px; height:16px; border-radius:50%;
  background: radial-gradient(circle at 35% 35%, #fff8, #fff0), linear-gradient(135deg,#ffe27a,#ffb21e);
  box-shadow:0 0 10px #ffb21eaa;
  border:1px solid #e2a300;
}

.powerup{
  position:absolute; bottom:120px; right:-80px; width:46px; height:24px; border-radius:10px;
  display:flex; align-items:center; justify-content:center;
  background:#15264a; border:1px solid #2e4e8e; box-shadow: inset 0 0 10px #61f7ff44;
  font-size:18px;
}
.powerup.jetpack{ background:#143b2c; border-color:#1da072; }
.powerup.magnet{ background:#3b1437; border-color:#a01d7c; }

#toast{
  position:absolute; top:10px; left:50%; transform:translateX(-50%);
  padding:8px 12px; border-radius:10px; background:rgba(0,0,0,.45); border:1px solid #2b3560;
  box-shadow: 0 6px 20px rgba(0,0,0,.4);
  font-weight:600; letter-spacing:.2px; display:none;
}

.overlay{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  background: linear-gradient(180deg, #0008, #000b);
}
.overlay.hidden{display:none}
.card{
  background:var(--card); border:1px solid #27305a; border-radius:16px; padding:22px; width:min(420px, 90%);
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
.card h2{margin:0 0 8px}
.card p{margin:0 0 14px; color:var(--muted)}

.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#0009}
.modal.hidden{display:none}
.modal-card{background:var(--card); border:1px solid #27305a; border-radius:16px; width:min(820px, 94%); max-height:88vh; overflow:auto; box-shadow:0 20px 60px rgba(0,0,0,.6)}
.modal-header{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid #27305a}
.modal-body{padding:16px}
.modal-footer{padding:12px 16px; border-top:1px solid #27305a; display:flex; align-items:center; justify-content:flex-end}
.icon-btn{background:transparent; border:none; color:#cdd9ff; font-size:18px; cursor:pointer}

.muted{color:var(--muted)}
.shop-grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:12px}
.shop-item{
  background:#0f1732; border:1px solid #2a315e; border-radius:16px; padding:14px; display:flex; gap:12px; align-items:center; justify-content:space-between;
}
.shop-left{display:flex; align-items:center; gap:12px}
.skin-swatch{
  width:44px; height:44px; border-radius:12px; display:flex; align-items:center; justify-content:center;
  font-size:28px; background:radial-gradient(30px 30px at 50% 30%, #ffffff22, transparent), var(--bgc, #1b2546);
  box-shadow:inset 0 0 14px rgba(255,255,255,.06), 0 0 12px var(--glow, #0000);
  border:1px solid #2d386e;
}

.help{
  padding:10px 14px; color:var(--muted); font-size:14px;
}
.help kbd{background:#0c1126; border:1px solid #2a315e; border-radius:6px; padding:2px 6px}

/* Jetpack flight feel */
#dino.jetpacking #dino-emoji{ filter: drop-shadow(0 0 10px rgba(97,247,255,.95)); transform: translateY(-4px) }
#dino.jetpacking .trail{ background: radial-gradient(24px 8px at 50% 50%, rgba(97,247,255,.8), transparent 70%) }

/* Magnet glow */
#game.magnet-on .obstacle{ box-shadow: inset 0 0 12px rgba(255,255,255,.12), 0 0 22px #ff5a7a66; border-color:#ff5a7a }
